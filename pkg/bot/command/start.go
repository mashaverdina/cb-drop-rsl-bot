package command

import (
	"context"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"

	chatutils "vkokarev.com/rslbot/pkg/chat_utils"
	"vkokarev.com/rslbot/pkg/entities"
	"vkokarev.com/rslbot/pkg/keyboards"
)

type StartCommand struct {
	BotCommand
}

func (c *StartCommand) Handle(ctx context.Context, user entities.User, command string, arguments string) ([]tgbotapi.Chattable, error) {
	text := "–ü—Ä–∏–≤–µ—Ç!ü§ñ\n" +
		"–Ø –±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–≤–æ–µ–≥–æ –¥—Ä–æ–ø–∞ —Å –ö–ë –≤ Raid SL.\n" +
		"–ï—Å–ª–∏ —Ç—ã –∑–∞–±–∏—Ä–∞–µ—à—å *2 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö* —Å—É–Ω–¥—É–∫–∞ —Å *5 –∏/–∏–ª–∏ 6* –∫–ª–∞–Ω –±–æ—Å—Å–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–π –º–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–≤–æ–µ–º –¥—Ä–æ–ø–µ, –∏ —è –∑–∞–ø–æ–º–Ω—é –µ–µ –¥–ª—è —Ç–µ–±—è. –ê –µ—â–µ –ø–æ–∫–∞–∂—É —Ç–µ–±–µ —Ä–∞–∑–Ω—É—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.\n\n" +
		"–ü–æ–∫–∞ —á—Ç–æ *—è —É–º–µ—é* –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å\n" +
		"  ‚Äì —Ç–≤–æ–π –¥—Ä–æ–ø –∑–∞ –º–µ—Å—è—Ü,\n" +
		"  ‚Äì –¥–∞—Ç—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∞–∫—Ä–∞–ª–∞, –≤–æ–π–¥–∞ –∏ –ª–µ–≥ —Ç–æ–º–∞.\n" +
		"–ù–æ —Å–æ–≤—Å–µ–º *—Å–∫–æ—Ä–æ —è —Å–º–æ–≥—É*\n" +
		"  ‚Äì —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–≤–æ–π –¥—Ä–æ–ø –≤ Excel —Ñ–∞–π–ª,\n" +
		"  ‚Äì –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —à–∞–Ω—Å—ã –¥—Ä–æ–ø–∞,\n" +
		"  ‚Äì —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–±–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã —É–¥–∞—á–ª–∏–≤(–∞) –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Å–æ–∫–ª–∞–Ω–∞–º–∏ –∏ –≤—Å–µ–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.\n\n" +
		"–¢—ã –º–æ–∂–µ—à—å –ø—Ä–∏—Å–ª–∞—Ç—å —Å–≤–æ–∏ –∏–¥–µ–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é [–º–æ–µ–º—É –±–æ—Ç—é–Ω–µ](https://t.me/rsl_cb_drop_support_bot).\n\n" +
		"–û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –º–æ–∂–µ—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ –∫–æ–º–∞–Ω–¥–µ /faq\n"
	return chatutils.TextTo(&user, text, keyboards.MainMenuKeyboard), nil
}

func (c *StartCommand) CanHandle(cmd string) bool {
	return cmd == "start"
}
